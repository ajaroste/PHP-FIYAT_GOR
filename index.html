<!DOCTYPE html>
<html lang="en">
<head>
    <meta http-equiv="Content-Type" content="text/HTML; charset=utf-8" />
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WEB FİYAT GÖR</title>
    <!-- Bootstrap CSS -->
    <link rel="icon" type="image/x-icon" href="https://i.ibb.co/Y20h8Gz/unnamed-removebg-preview.png">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
	
	<style>
#result{
font-size: 20px;
font-weight: 100;
font-weight: bold;
}
	
.button {
  font-size: 20px;
  margin: 10px;
  border:0px;
  color: white;
  background-color: #17a2b8!important;
  transition:0.5s;
  border:none!important;
  border-color: #17a2b8!important;

}
.button:hover{
  font-size: 25px;
  border:0px;
  border:none!important;

}
.stg{
  transition:2.2s;
  font-size: 20px;
  padding: -10px;
  border: none!important;;
  color: #17a2b8;
  text-decoration: none;

}
.stg:hover{
  text-decoration: none;
  transform: rotate(365deg);
  border:none!important;
}

@keyframes shake {
    0% {
        transform: translateX(0);
    }
    25% {
        transform: translateX(-5px);
    }
    50% {
        transform: translateX(5px);
    }
    75% {
        transform: translateX(-5px);
    }
    100% {
        transform: translateX(5px);
    }
}
	
	</style>
</head>
<body class="bg-info">
    <Button  onclick="ekran12()" class="button btn"><svg xmlns="http://www.w3.org/2000/svg" height="2em" viewBox="0 0 448 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. --><path d="M32 32C14.3 32 0 46.3 0 64v96c0 17.7 14.3 32 32 32s32-14.3 32-32V96h64c17.7 0 32-14.3 32-32s-14.3-32-32-32H32zM64 352c0-17.7-14.3-32-32-32s-32 14.3-32 32v96c0 17.7 14.3 32 32 32h96c17.7 0 32-14.3 32-32s-14.3-32-32-32H64V352zM320 32c-17.7 0-32 14.3-32 32s14.3 32 32 32h64v64c0 17.7 14.3 32 32 32s32-14.3 32-32V64c0-17.7-14.3-32-32-32H320zM448 352c0-17.7-14.3-32-32-32s-32 14.3-32 32v64H320c-17.7 0-32 14.3-32 32s14.3 32 32 32h96c17.7 0 32-14.3 32-32V352z"/></svg></Button>  
    <Button type="submit"  id="kpt" data-toggle="modal" data-target="#loginModal" class="btn stg"><svg class="stg" xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="2em" height="2em" viewBox="0 0 50 50">
      <path d="M 22.199219 2 A 1.0001 1.0001 0 0 0 21.214844 2.8339844 L 20.205078 8.796875 C 19.01608 9.1476749 17.903339 9.6072866 16.835938 10.173828 L 11.875 6.6816406 A 1.0001 1.0001 0 0 0 10.59375 6.7929688 L 6.6933594 10.693359 A 1.0001 1.0001 0 0 0 6.5820312 11.974609 L 10.076172 16.939453 C 9.5032306 17.983292 9.0447681 19.109183 8.6992188 20.298828 L 2.8457031 21.212891 A 1.0001 1.0001 0 0 0 2 22.199219 L 2 27.699219 A 1.0001 1.0001 0 0 0 2.8339844 28.685547 L 8.7949219 29.693359 C 9.1451119 30.880887 9.6045402 31.990547 10.169922 33.056641 L 6.6875 37.917969 A 1.0001 1.0001 0 0 0 6.7929688 39.207031 L 10.693359 43.107422 A 1.0001 1.0001 0 0 0 11.974609 43.21875 L 16.939453 39.724609 C 17.985462 40.298683 19.114316 40.757752 20.306641 41.103516 L 21.314453 47.066406 A 1.0001 1.0001 0 0 0 22.300781 47.900391 L 27.800781 47.900391 A 1.0001 1.0001 0 0 0 28.783203 47.082031 L 29.884766 41.107422 C 31.077734 40.756262 32.193186 40.294742 33.263672 39.726562 L 38.224609 43.21875 A 1.0001 1.0001 0 0 0 39.507812 43.107422 L 43.40625 39.207031 A 1.0001 1.0001 0 0 0 43.509766 37.914062 L 39.931641 32.957031 C 40.500209 31.91951 40.957756 30.82106 41.300781 29.693359 L 47.169922 28.685547 A 1.0001 1.0001 0 0 0 48 27.699219 L 48 22.199219 A 1.0001 1.0001 0 0 0 47.166016 21.214844 L 41.199219 20.203125 C 40.855563 19.074235 40.397841 17.973827 39.828125 16.935547 L 43.318359 11.974609 A 1.0001 1.0001 0 0 0 43.207031 10.693359 L 39.306641 6.7929688 A 1.0001 1.0001 0 0 0 38.013672 6.6894531 L 33.052734 10.273438 C 32.009656 9.7017023 30.885686 9.2413677 29.697266 8.8964844 L 28.685547 2.8359375 A 1.0001 1.0001 0 0 0 27.699219 2 L 22.199219 2 z M 23.044922 4 L 26.853516 4 L 27.814453 9.7636719 A 1.0001 1.0001 0 0 0 28.556641 10.570312 C 30.07104 10.948913 31.478126 11.514935 32.675781 12.251953 A 1.0001 1.0001 0 0 0 33.785156 12.210938 L 38.494141 8.8085938 L 41.197266 11.511719 L 37.882812 16.224609 A 1.0001 1.0001 0 0 0 37.847656 17.324219 C 38.584675 18.521874 39.154586 19.937607 39.533203 21.357422 A 1.0001 1.0001 0 0 0 40.333984 22.085938 L 46 23.044922 L 46 26.857422 L 40.429688 27.814453 A 1.0001 1.0001 0 0 0 39.632812 28.542969 C 39.254196 29.962783 38.686237 31.378517 37.949219 32.576172 A 1.0001 1.0001 0 0 0 37.990234 33.685547 L 41.390625 38.394531 L 38.6875 41.097656 L 33.974609 37.78125 A 1.0001 1.0001 0 0 0 32.904297 37.732422 C 31.566632 38.496802 30.2627 39.053466 28.757812 39.429688 A 1.0001 1.0001 0 0 0 28.017578 40.21875 L 26.966797 45.900391 L 23.144531 45.900391 L 22.185547 40.232422 A 1.0001 1.0001 0 0 0 21.443359 39.429688 C 19.92896 39.051088 18.521874 38.485065 17.324219 37.748047 A 1.0001 1.0001 0 0 0 16.224609 37.78125 L 11.511719 41.097656 L 8.8066406 38.392578 L 12.113281 33.783203 A 1.0001 1.0001 0 0 0 12.167969 32.703125 C 11.403582 31.365465 10.846925 30.061529 10.470703 28.556641 A 1.0001 1.0001 0 0 0 9.6660156 27.814453 L 4 26.855469 L 4 23.056641 L 9.5546875 22.1875 A 1.0001 1.0001 0 0 0 10.371094 21.443359 C 10.749694 19.92896 11.313763 18.521874 12.050781 17.324219 A 1.0001 1.0001 0 0 0 12.017578 16.224609 L 8.7011719 11.511719 L 11.412109 8.8027344 L 16.125 12.117188 A 1.0001 1.0001 0 0 0 17.195312 12.167969 C 18.532978 11.403589 19.836909 10.846925 21.341797 10.470703 A 1.0001 1.0001 0 0 0 22.085938 9.6660156 L 23.044922 4 z M 25 17 C 20.570085 17 17 20.570085 17 25 C 17 29.429915 20.570085 33 25 33 C 29.429915 33 33 29.429915 33 25 C 33 20.570085 29.429915 17 25 17 z M 25 19 C 28.370085 19 31 21.629915 31 25 C 31 28.370085 28.370085 31 25 31 C 21.629915 31 19 28.370085 19 25 C 19 21.629915 21.629915 19 25 19 z"></path>
      </svg></Button> 

      <div  class="stg"></div>
<div class="container text-center mt-5">
    
    <div class="bg-primary " style="border-radius: 10px;">
        
    <h1 class="mx-auto text-white mb-3 pb-2">BİLNEX FİYAT GÖR</h1></div>
    
    <form id="FGFORM">
        <div class="form-group">

            <input type="text" class="form-control" name="barcode" id="barcode" autocomplete="off" placeholder="Barkod Giriniz">
        </div>
        <button type="submit" class="btn btn-primary">Gönder</button>
    </form>
    <div class="mt-4">
    <div class="alert alert-danger mt-4" id="HATA" style="display: none;"> BARCODE BULUNAMADI</div>
    </div>
    
    
    <div id="result" class="mt-4">
        <div class="alert alert-success" id="adi" style="display: none;"></div>
        <div class="alert alert-info" id="indfiyat" style="display: none;"></div>
        <div class="alert line-through" id="fiyat" style="display: none; background-color:red; font-size: 20px;"></div>
        <div class="alert alert-warning" id="doviz" style="display: none;"></div>
        <div class="alert alert-danger" id="miktar" style="display: none;"></div>
    </div>

    
</div>
<div class="modal fade" id="loginModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog" role="document">
      <div class="modal-content">
          <div class="modal-header">
              <h5 class="modal-title" id="exampleModalLabel">AYARLAR</h5>
              <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                  <span aria-hidden="true">&times;</span>
              </button>
          </div>
          <div class="modal-body">
              <!-- Login Form -->
<form id="params" method="POST">
      <div class="form-group">
  <label for="ADI">SUNUCU ADI:</label>
  <input type="text" class="form-control" id="server" name="server" placeholder="MSSQL SUNUCU İSMİNİ GİRİNİZ." autocomplete="off" required>
   </div>
   <div class="form-group">
  <label for="FİYAT">DATABASE:</label>
  <input type="text" class="form-control" id="database" name="database" placeholder="MSSQL DATABASE İSMİNİ GİRİNİZ." autocomplete="off" required>
  </div>
  <div class="form-group">
  <label for="MİKTAR">KULLANICIADI:</label>
  <input type="text" class="form-control" id="sa" name="sa" placeholder="MSSQL KULLANICIADINI GİRİNİZ." autocomplete="off" required>
  </div>
   <div class="form-group">
  <label for="BARCODE">ŞİFRE:</label>
  <input type="text" class="form-control" id="sifre" name="sifre" placeholder="MSSQL ŞİFRENİZİ GİRİNİZ." autocomplete="off" required>
   </div>

   <div class="form-group">
    <label for="BARCODE">SATIŞ FİYATLARI:</label>
    <select class="form-control" id="FIYATCONTROL" name="FIYATCONTROL" >
      <option value="F1" id="F1" >FİYAT1</option>
      <option value="F2"  id="F2">FİYAT2</option>
      <option value="F3" id="F3" >FİYAT3</option>
      <option value="F4" id="F4">FİYAT4</option>
      <option value="F5" id="F5">FİYAT5</option>
  </select>
     </div>
<div class="mx-auto">
<span id="SHATA"></span>
<button id="kaydet" class="btn btn-danger w-100 mt-3">KAYDET VE TEST ET</button>
</div>
</form>

<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script>
let deger = 1
    $(document).ready(function () {
        $("#FGFORM").submit(function (event) {
            event.preventDefault();
            var barcode = $("#barcode").val();
            $.ajax({
                type: "POST",
                url: "Fiyat.php",
                data: { barcode: barcode },
                dataType: "json",
                success: function (response) {
                    var adi = response.ADI;
                    var fiyat = response.FIYAT;
					var indfiyat = response.INDFIYAT;
                    var dovız = response.DOVIZ;
                    var miktar = response.MIKTAR;
                    var birim = response.BIRIM;
                    var hata = response.HATA;
                    
                    $("#adi").html("" + adi);
                    $("#indfiyat").html(indfiyat + dovız);
					$("#fiyat").html("" + fiyat + " " + dovız);
                    $("#miktar").html(miktar + " "+ birim);
                    $("#barcode").select();
                	$("#adi, #fiyat,#miktar,#indfiyat,#HATA").slideDown();
                    const  fiyatdoc = document.getElementById("fiyat")		
			if(fiyat==indfiyat){
             
               fiyatdoc.style.display="none";
            }
                    else{

                        fiyatdoc.style.textDecoration="line-through";

                 };

                    if(hata == "HATA"){
                        document.getElementById("result").style.display = "none";
                        document.getElementById("HATA").style.display = "block";
                   }
                    else{
                        document.getElementById("result").style.display = "block"; 
                        document.getElementById("HATA").style.display = "none";
                    };
				
                }


		
            });
        });
    });
</script>





<script>  
  
  fetch('Ayarlar.json')
  .then(response => response.json())
  .then(ayarlar => {
    var Fdeger = ayarlar.Fdeger
if(Fdeger == "F1"){
  document.getElementById("F1").selected = true;

}
else if (Fdeger == "F2" ){

  document.getElementById("F2").selected = true;
}
else if (Fdeger == "F3" ){

  document.getElementById("F3").selected = true;
}

else if (Fdeger == "F4" ){
  document.getElementById("F4").selected = true;

}
else if (Fdeger == "F5" ){

  document.getElementById("F5").selected = true;
}
   
  })
  .catch(error => {
    console.error('Hata:', error);
  });




      
//ODAK EKLEME KALDIRMA;
  const myInput = document.getElementById('barcode');
        const removeFocusButton = document.getElementById('kpt');

        window.onload = function() {
            myInput.focus();
            deger = 1;
        };

        removeFocusButton.addEventListener('click', function() {
            myInput.blur();
            deger = 0; 
        });


        document.addEventListener('click', function(event) {
            if (deger === 1) {
                myInput.focus();
            }
        });





</script>










<script>
    var ekran = 1;
    var elem = document.documentElement;
    
    function ekran12(){
     if(ekran == 1){
        openFullscreen();
        ekran = 0;
       
     }
     else if(ekran === 0){
        closeFullscreen()
        ekran = 1;
     }
    }
        function openFullscreen() {
      if (elem.requestFullscreen) {
        elem.requestFullscreen();
      } else if (elem.webkitRequestFullscreen) { /* Safari */
        elem.webkitRequestFullscreen();
      } else if (elem.msRequestFullscreen) { /* IE11 */
        elem.msRequestFullscreen();
      }
      
    }
        
    function closeFullscreen() {
      if (document.exitFullscreen) {
        document.exitFullscreen();
      } else if (document.webkitExitFullscreen) { /* Safari */
        document.webkitExitFullscreen();
      } else if (document.msExitFullscreen) { /* IE11 */
        document.msExitFullscreen();
      }
    }
    </script>
    <script>
let text =" "
document.getElementById("SHATA").innerText = text;
  $(document).ready(function () {
    $("#params").submit(function (event) {
      event.preventDefault();
      var server = $("#server").val();
      var database = $("#database").val();
      var sa = $("#sa").val();
      var sifre = $("#sifre").val();
      var Fdeger = $("#FIYATCONTROL").val();
      $.ajax({
        type: "POST",
        url: "ayarlar.php",
        data: {
          server: server,
          database: database,
          sa: sa,
          sifre: sifre,
          Fdeger: Fdeger
        },
        dataType: "json",
        success: function (response) {
          var DATA = response.DATA;

if(DATA=="SBB"){
// console.log(DATA)
 text = "SUNUCU BAĞLANTISI BAŞARISIZ."
document.getElementById("SHATA").innerText = text;
}
if(DATA=="VGB"){
 text = "BAĞLANTI SAĞLANDI VE VERİLER KAYIT EDİLDİ."
document.getElementById("SHATA").innerText = text;
}


        },
        error: function (error) {
          
        }
      });
    });
  });


 var jsonFilePath = "ayarlar.json";

$.getJSON(jsonFilePath, function(data) {
    $("#server").val(data.Sunucu);
    $("#database").val(data.Database);
    $("#sa").val(data.User);
    $("#sifre").val(data.Sifre);

})


var Cdata = {
    Sunucu: $("#server").val(),
    Database: $("#database").val(),
    User: $("#sa").val(),
    Sifre: $("#sifre").val()
};

var jsonData = JSON.stringify(Cdata);

// document.cookie = "veriler=" + encodeURIComponent(jsonData) + "; expires=Fri, 31 Dec 2023 23:59:59 GMT; path=/";












    </script>
     <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"></script>
     <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
 
     
 <!-- <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script> -->
     <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"></script>
     <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.min.js"></script>   
</body>
</html>
